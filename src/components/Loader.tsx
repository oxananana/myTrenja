import React from "react";
import styled from "styled-components";

type Props = {
  fullpage?: boolean;
};

export const Loader: React.FC<Props> = (props) => {
  return (
    <LoaderIcon {...props}>
      <svg viewBox="0 0 570 420" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M420.873 28.724C451.792 29.986 480.37 43.213 501.34 65.97C522.31 88.725 533.164 118.286 531.901 149.205C530.639 180.124 517.412 208.701 494.656 229.671C473.092 249.544 445.413 260.331 416.262 260.332C414.651 260.332 413.04 260.299 411.421 260.233C347.593 257.626 297.787 203.579 300.393 139.752C301.655 108.833 314.882 80.256 337.638 59.286C359.197 39.418 386.862 28.624 416.004 28.624C417.622 28.624 419.246 28.657 420.873 28.724ZM454.223 185.795C465.259 175.624 471.674 161.766 472.286 146.77C472.898 131.774 467.635 117.438 457.465 106.402C436.47 83.621 400.855 82.165 378.072 103.16C355.29 124.155 353.835 159.77 374.83 182.553C385.892 194.557 401.006 200.638 416.169 200.638C429.786 200.638 443.444 195.729 454.223 185.795ZM417.215 118.313C424.204 118.599 430.663 121.589 435.403 126.732C440.143 131.875 442.597 138.557 442.31 145.546C442.025 152.535 439.035 158.994 433.892 163.734C423.274 173.519 406.675 172.841 396.89 162.223C392.15 157.079 389.697 150.398 389.982 143.409C390.268 136.42 393.257 129.961 398.401 125.221C403.545 120.481 410.231 118.037 417.215 118.313Z"
          className="bar"
        />
        <path
          d="M308.933 243.279C321.764 257.202 336.913 268.347 353.958 276.405C368.001 283.043 382.83 287.329 398.178 289.216C387.573 301.054 376 313.128 363.775 324.591C327.059 359.019 256.563 399.956 218.717 408.825L213 410V262.931L259 251.5L303.309 238.84L304.261 237.962C305.772 239.766 307.329 241.539 308.933 243.279Z"
          className="biceps-bottom"
        />
        <path
          className="biceps-top"
          d="M229.241 136.126C228.804 149.02 225.97 161.734 220.954 173.54C244.594 192.039 259 212.5 259 251.5C259 292.5 251 310 251 310L213 410L208.536 407.612C136.609 371.307 91.3929 313.665 66.1259 271.703C36.3659 222.278 18.7189 167.602 20.0729 129.01C22.0949 71.352 70.5869 26.015 128.205 27.992C156.141 28.94 182.035 40.709 201.118 61.133C220.201 81.557 230.189 108.19 229.241 136.126Z"
        />
      </svg>
    </LoaderIcon>
  );
};

const LoaderIcon = styled.div<{ fullpage?: boolean }>`
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: ${({ fullpage }) => fullpage && "100vh"};

  svg {
    width: 60px;
    height: 60px;
    margin: 0 auto;
    fill: ${({ theme }) => theme.iconBtn.base};
  }

  path {
    fill-rule: evenodd;
    clip-rule: evenodd;
  }

  .biceps-top {
    transform-origin: 38% 88%;
    animation: scale 0.5s ease-out infinite alternate;
  }

  .biceps-bottom,
  .bar {
    transform-origin: 38% 88%;
    animation: animate 0.5s ease-out infinite alternate;
  }

  @keyframes scale {
    from {
      transform: scale(1);
    }

    to {
      transform: scale(1.05);
    }
  }

  @keyframes animate {
    from {
      transform: rotate(0);
    }

    to {
      transform: rotate(10deg);
    }
  }
`;
